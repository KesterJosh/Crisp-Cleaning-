{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Rematrix = require(\"rematrix\");\nvar constants_1 = require(\"./constants\");\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  Object.keys(collection).forEach(function (key) {\n    result[key] = iteratee(collection[key], key, collection);\n  });\n  return result;\n}\nexports.mapValues = mapValues;\nfunction mapTwoValues(a, b, iteratee) {\n  var result = {};\n  Object.keys(a || {}).forEach(function (key) {\n    result[key] = iteratee(a[key], b[key], key);\n  });\n  return result;\n}\nexports.mapTwoValues = mapTwoValues;\nfunction matrixTranslate(x, y) {\n  return Rematrix.translate(x, y).join(',');\n}\nexports.matrixTranslate = matrixTranslate;\nfunction matrixScale(x, y) {\n  return Rematrix.scale(x, y).join(',');\n}\nexports.matrixScale = matrixScale;\nfunction matrixMultiply() {\n  var matrices = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    matrices[_i] = arguments[_i];\n  }\n  return matrices.filter(function (a) {\n    return !!a;\n  }).reduce(Rematrix.multiply).join(',');\n}\nexports.matrixMultiply = matrixMultiply;\nfunction styleValue(prop, value) {\n  if (['height', 'width', 'top', 'left'].indexOf(prop) !== -1 && typeof value === 'number') {\n    return value + \"px\";\n  }\n  return value;\n}\nexports.styleValue = styleValue;\nfunction getStaggerDelay(index, stagger) {\n  return typeof stagger === 'function' ? stagger(index) : (stagger || 0) * index;\n}\nexports.getStaggerDelay = getStaggerDelay;\nexports.identity = function (a) {\n  return a;\n};\nexports.noop = function () {};\nexports.rect = function (element) {\n  var _a = element.getBoundingClientRect(),\n    top = _a.top,\n    left = _a.left,\n    width = _a.width,\n    height = _a.height;\n  return {\n    top: top,\n    left: left,\n    width: width,\n    height: height,\n    get transform() {\n      return getComputedStyle(element).transform || undefined;\n    }\n  };\n};\nfunction isVisible(element) {\n  var _a = exports.rect(element),\n    width = _a.width,\n    height = _a.height;\n  return !(width === 0 && height === 0);\n}\nexports.isVisible = isVisible;\nfunction getDelta(a, b) {\n  if (!a) {\n    return constants_1.NO_DELTA;\n  }\n  if (!a.height) {\n    return a;\n  }\n  if (!b.height) {\n    return b;\n  }\n  return {\n    top: a.top - b.top,\n    left: a.left - b.left,\n    width: a.width / b.width,\n    height: a.height / b.height\n  };\n}\nexports.getDelta = getDelta;\nexports.deltaChanged = function (delta) {\n  return !!delta.top || !!delta.left || delta.width !== 1 || delta.height !== 1;\n};\nexports.boundsChanged = function (a, b) {\n  return !!(a.top - b.top || a.left - b.left || a.width - b.width || a.height - b.height);\n};\nfunction mitt() {\n  var all = {};\n  var wild = [];\n  return {\n    /**\n     * Register an event handler for the given type.\n     *\n     * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n     * @param  {Function} handler Function to call in response to given event\n     * @memberOf mitt\n     */\n    on: function (type, handler) {\n      if (type === '*') {\n        wild.push(handler);\n      } else {\n        (all[type] || (all[type] = [])).push(handler);\n      }\n    },\n    /**\n     * Remove an event handler for the given type.\n     *\n     * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n     * @param  {Function} handler Handler function to remove\n     * @memberOf mitt\n     */\n    off: function (type, handler) {\n      if (type === '*') {\n        wild.splice(wild.indexOf(handler) >>> 0, 1);\n      } else if (all[type]) {\n        all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n      }\n    },\n    /**\n     * Invoke all handlers for the given type.\n     * If present, `\"*\"` handlers are invoked after type-matched handlers.\n     *\n     * @param {String} type  The event type to invoke\n     * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n     * @memberOf mitt\n     */\n    emit: function (type, evt) {\n      (all[type] || []).slice().map(function (handler) {\n        handler(evt);\n      });\n      wild.slice().map(function (handler) {\n        handler(type, evt);\n      });\n    }\n  };\n}\nexports.mitt = mitt;","map":{"version":3,"names":["Object","defineProperty","exports","value","Rematrix","require","constants_1","mapValues","collection","iteratee","result","keys","forEach","key","mapTwoValues","a","b","matrixTranslate","x","y","translate","join","matrixScale","scale","matrixMultiply","matrices","_i","arguments","length","filter","reduce","multiply","styleValue","prop","indexOf","getStaggerDelay","index","stagger","identity","noop","rect","element","_a","getBoundingClientRect","top","left","width","height","transform","getComputedStyle","undefined","isVisible","getDelta","NO_DELTA","deltaChanged","delta","boundsChanged","mitt","all","wild","on","type","handler","push","off","splice","emit","evt","slice","map"],"sources":["C:/Users/USER/Documents/GitHub/crispWeb/node_modules/flipping/lib/utils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rematrix = require(\"rematrix\");\nvar constants_1 = require(\"./constants\");\nfunction mapValues(collection, iteratee) {\n    var result = {};\n    Object.keys(collection).forEach(function (key) {\n        result[key] = iteratee(collection[key], key, collection);\n    });\n    return result;\n}\nexports.mapValues = mapValues;\nfunction mapTwoValues(a, b, iteratee) {\n    var result = {};\n    Object.keys(a || {}).forEach(function (key) {\n        result[key] = iteratee(a[key], b[key], key);\n    });\n    return result;\n}\nexports.mapTwoValues = mapTwoValues;\nfunction matrixTranslate(x, y) {\n    return Rematrix.translate(x, y).join(',');\n}\nexports.matrixTranslate = matrixTranslate;\nfunction matrixScale(x, y) {\n    return Rematrix.scale(x, y).join(',');\n}\nexports.matrixScale = matrixScale;\nfunction matrixMultiply() {\n    var matrices = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        matrices[_i] = arguments[_i];\n    }\n    return matrices\n        .filter(function (a) { return !!a; })\n        .reduce(Rematrix.multiply)\n        .join(',');\n}\nexports.matrixMultiply = matrixMultiply;\nfunction styleValue(prop, value) {\n    if (['height', 'width', 'top', 'left'].indexOf(prop) !== -1 &&\n        typeof value === 'number') {\n        return value + \"px\";\n    }\n    return value;\n}\nexports.styleValue = styleValue;\nfunction getStaggerDelay(index, stagger) {\n    return typeof stagger === 'function'\n        ? stagger(index)\n        : (stagger || 0) * index;\n}\nexports.getStaggerDelay = getStaggerDelay;\nexports.identity = function (a) { return a; };\nexports.noop = function () { };\nexports.rect = function (element) {\n    var _a = element.getBoundingClientRect(), top = _a.top, left = _a.left, width = _a.width, height = _a.height;\n    return {\n        top: top,\n        left: left,\n        width: width,\n        height: height,\n        get transform() {\n            return getComputedStyle(element).transform || undefined;\n        }\n    };\n};\nfunction isVisible(element) {\n    var _a = exports.rect(element), width = _a.width, height = _a.height;\n    return !(width === 0 && height === 0);\n}\nexports.isVisible = isVisible;\nfunction getDelta(a, b) {\n    if (!a) {\n        return constants_1.NO_DELTA;\n    }\n    if (!a.height) {\n        return a;\n    }\n    if (!b.height) {\n        return b;\n    }\n    return {\n        top: a.top - b.top,\n        left: a.left - b.left,\n        width: a.width / b.width,\n        height: a.height / b.height\n    };\n}\nexports.getDelta = getDelta;\nexports.deltaChanged = function (delta) {\n    return !!delta.top || !!delta.left || delta.width !== 1 || delta.height !== 1;\n};\nexports.boundsChanged = function (a, b) {\n    return !!(a.top - b.top ||\n        a.left - b.left ||\n        a.width - b.width ||\n        a.height - b.height);\n};\nfunction mitt() {\n    var all = {};\n    var wild = [];\n    return {\n        /**\n         * Register an event handler for the given type.\n         *\n         * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n         * @param  {Function} handler Function to call in response to given event\n         * @memberOf mitt\n         */\n        on: function (type, handler) {\n            if (type === '*') {\n                wild.push(handler);\n            }\n            else {\n                (all[type] || (all[type] = [])).push(handler);\n            }\n        },\n        /**\n         * Remove an event handler for the given type.\n         *\n         * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n         * @param  {Function} handler Handler function to remove\n         * @memberOf mitt\n         */\n        off: function (type, handler) {\n            if (type === '*') {\n                wild.splice(wild.indexOf(handler) >>> 0, 1);\n            }\n            else if (all[type]) {\n                all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n            }\n        },\n        /**\n         * Invoke all handlers for the given type.\n         * If present, `\"*\"` handlers are invoked after type-matched handlers.\n         *\n         * @param {String} type  The event type to invoke\n         * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n         * @memberOf mitt\n         */\n        emit: function (type, evt) {\n            (all[type] || []).slice().map(function (handler) {\n                handler(evt);\n            });\n            wild.slice().map(function (handler) {\n                handler(type, evt);\n            });\n        }\n    };\n}\nexports.mitt = mitt;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAIC,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,IAAIC,WAAW,GAAGD,OAAO,CAAC,aAAa,CAAC;AACxC,SAASE,SAASA,CAACC,UAAU,EAAEC,QAAQ,EAAE;EACrC,IAAIC,MAAM,GAAG,CAAC,CAAC;EACfV,MAAM,CAACW,IAAI,CAACH,UAAU,CAAC,CAACI,OAAO,CAAC,UAAUC,GAAG,EAAE;IAC3CH,MAAM,CAACG,GAAG,CAAC,GAAGJ,QAAQ,CAACD,UAAU,CAACK,GAAG,CAAC,EAAEA,GAAG,EAAEL,UAAU,CAAC;EAC5D,CAAC,CAAC;EACF,OAAOE,MAAM;AACjB;AACAR,OAAO,CAACK,SAAS,GAAGA,SAAS;AAC7B,SAASO,YAAYA,CAACC,CAAC,EAAEC,CAAC,EAAEP,QAAQ,EAAE;EAClC,IAAIC,MAAM,GAAG,CAAC,CAAC;EACfV,MAAM,CAACW,IAAI,CAACI,CAAC,IAAI,CAAC,CAAC,CAAC,CAACH,OAAO,CAAC,UAAUC,GAAG,EAAE;IACxCH,MAAM,CAACG,GAAG,CAAC,GAAGJ,QAAQ,CAACM,CAAC,CAACF,GAAG,CAAC,EAAEG,CAAC,CAACH,GAAG,CAAC,EAAEA,GAAG,CAAC;EAC/C,CAAC,CAAC;EACF,OAAOH,MAAM;AACjB;AACAR,OAAO,CAACY,YAAY,GAAGA,YAAY;AACnC,SAASG,eAAeA,CAACC,CAAC,EAAEC,CAAC,EAAE;EAC3B,OAAOf,QAAQ,CAACgB,SAAS,CAACF,CAAC,EAAEC,CAAC,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC;AAC7C;AACAnB,OAAO,CAACe,eAAe,GAAGA,eAAe;AACzC,SAASK,WAAWA,CAACJ,CAAC,EAAEC,CAAC,EAAE;EACvB,OAAOf,QAAQ,CAACmB,KAAK,CAACL,CAAC,EAAEC,CAAC,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC;AACzC;AACAnB,OAAO,CAACoB,WAAW,GAAGA,WAAW;AACjC,SAASE,cAAcA,CAAA,EAAG;EACtB,IAAIC,QAAQ,GAAG,EAAE;EACjB,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;IAC1CD,QAAQ,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;EAChC;EACA,OAAOD,QAAQ,CACVI,MAAM,CAAC,UAAUd,CAAC,EAAE;IAAE,OAAO,CAAC,CAACA,CAAC;EAAE,CAAC,CAAC,CACpCe,MAAM,CAAC1B,QAAQ,CAAC2B,QAAQ,CAAC,CACzBV,IAAI,CAAC,GAAG,CAAC;AAClB;AACAnB,OAAO,CAACsB,cAAc,GAAGA,cAAc;AACvC,SAASQ,UAAUA,CAACC,IAAI,EAAE9B,KAAK,EAAE;EAC7B,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC+B,OAAO,CAACD,IAAI,CAAC,KAAK,CAAC,CAAC,IACvD,OAAO9B,KAAK,KAAK,QAAQ,EAAE;IAC3B,OAAOA,KAAK,GAAG,IAAI;EACvB;EACA,OAAOA,KAAK;AAChB;AACAD,OAAO,CAAC8B,UAAU,GAAGA,UAAU;AAC/B,SAASG,eAAeA,CAACC,KAAK,EAAEC,OAAO,EAAE;EACrC,OAAO,OAAOA,OAAO,KAAK,UAAU,GAC9BA,OAAO,CAACD,KAAK,CAAC,GACd,CAACC,OAAO,IAAI,CAAC,IAAID,KAAK;AAChC;AACAlC,OAAO,CAACiC,eAAe,GAAGA,eAAe;AACzCjC,OAAO,CAACoC,QAAQ,GAAG,UAAUvB,CAAC,EAAE;EAAE,OAAOA,CAAC;AAAE,CAAC;AAC7Cb,OAAO,CAACqC,IAAI,GAAG,YAAY,CAAE,CAAC;AAC9BrC,OAAO,CAACsC,IAAI,GAAG,UAAUC,OAAO,EAAE;EAC9B,IAAIC,EAAE,GAAGD,OAAO,CAACE,qBAAqB,CAAC,CAAC;IAAEC,GAAG,GAAGF,EAAE,CAACE,GAAG;IAAEC,IAAI,GAAGH,EAAE,CAACG,IAAI;IAAEC,KAAK,GAAGJ,EAAE,CAACI,KAAK;IAAEC,MAAM,GAAGL,EAAE,CAACK,MAAM;EAC5G,OAAO;IACHH,GAAG,EAAEA,GAAG;IACRC,IAAI,EAAEA,IAAI;IACVC,KAAK,EAAEA,KAAK;IACZC,MAAM,EAAEA,MAAM;IACd,IAAIC,SAASA,CAAA,EAAG;MACZ,OAAOC,gBAAgB,CAACR,OAAO,CAAC,CAACO,SAAS,IAAIE,SAAS;IAC3D;EACJ,CAAC;AACL,CAAC;AACD,SAASC,SAASA,CAACV,OAAO,EAAE;EACxB,IAAIC,EAAE,GAAGxC,OAAO,CAACsC,IAAI,CAACC,OAAO,CAAC;IAAEK,KAAK,GAAGJ,EAAE,CAACI,KAAK;IAAEC,MAAM,GAAGL,EAAE,CAACK,MAAM;EACpE,OAAO,EAAED,KAAK,KAAK,CAAC,IAAIC,MAAM,KAAK,CAAC,CAAC;AACzC;AACA7C,OAAO,CAACiD,SAAS,GAAGA,SAAS;AAC7B,SAASC,QAAQA,CAACrC,CAAC,EAAEC,CAAC,EAAE;EACpB,IAAI,CAACD,CAAC,EAAE;IACJ,OAAOT,WAAW,CAAC+C,QAAQ;EAC/B;EACA,IAAI,CAACtC,CAAC,CAACgC,MAAM,EAAE;IACX,OAAOhC,CAAC;EACZ;EACA,IAAI,CAACC,CAAC,CAAC+B,MAAM,EAAE;IACX,OAAO/B,CAAC;EACZ;EACA,OAAO;IACH4B,GAAG,EAAE7B,CAAC,CAAC6B,GAAG,GAAG5B,CAAC,CAAC4B,GAAG;IAClBC,IAAI,EAAE9B,CAAC,CAAC8B,IAAI,GAAG7B,CAAC,CAAC6B,IAAI;IACrBC,KAAK,EAAE/B,CAAC,CAAC+B,KAAK,GAAG9B,CAAC,CAAC8B,KAAK;IACxBC,MAAM,EAAEhC,CAAC,CAACgC,MAAM,GAAG/B,CAAC,CAAC+B;EACzB,CAAC;AACL;AACA7C,OAAO,CAACkD,QAAQ,GAAGA,QAAQ;AAC3BlD,OAAO,CAACoD,YAAY,GAAG,UAAUC,KAAK,EAAE;EACpC,OAAO,CAAC,CAACA,KAAK,CAACX,GAAG,IAAI,CAAC,CAACW,KAAK,CAACV,IAAI,IAAIU,KAAK,CAACT,KAAK,KAAK,CAAC,IAAIS,KAAK,CAACR,MAAM,KAAK,CAAC;AACjF,CAAC;AACD7C,OAAO,CAACsD,aAAa,GAAG,UAAUzC,CAAC,EAAEC,CAAC,EAAE;EACpC,OAAO,CAAC,EAAED,CAAC,CAAC6B,GAAG,GAAG5B,CAAC,CAAC4B,GAAG,IACnB7B,CAAC,CAAC8B,IAAI,GAAG7B,CAAC,CAAC6B,IAAI,IACf9B,CAAC,CAAC+B,KAAK,GAAG9B,CAAC,CAAC8B,KAAK,IACjB/B,CAAC,CAACgC,MAAM,GAAG/B,CAAC,CAAC+B,MAAM,CAAC;AAC5B,CAAC;AACD,SAASU,IAAIA,CAAA,EAAG;EACZ,IAAIC,GAAG,GAAG,CAAC,CAAC;EACZ,IAAIC,IAAI,GAAG,EAAE;EACb,OAAO;IACH;AACR;AACA;AACA;AACA;AACA;AACA;IACQC,EAAE,EAAE,SAAAA,CAAUC,IAAI,EAAEC,OAAO,EAAE;MACzB,IAAID,IAAI,KAAK,GAAG,EAAE;QACdF,IAAI,CAACI,IAAI,CAACD,OAAO,CAAC;MACtB,CAAC,MACI;QACD,CAACJ,GAAG,CAACG,IAAI,CAAC,KAAKH,GAAG,CAACG,IAAI,CAAC,GAAG,EAAE,CAAC,EAAEE,IAAI,CAACD,OAAO,CAAC;MACjD;IACJ,CAAC;IACD;AACR;AACA;AACA;AACA;AACA;AACA;IACQE,GAAG,EAAE,SAAAA,CAAUH,IAAI,EAAEC,OAAO,EAAE;MAC1B,IAAID,IAAI,KAAK,GAAG,EAAE;QACdF,IAAI,CAACM,MAAM,CAACN,IAAI,CAACzB,OAAO,CAAC4B,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;MAC/C,CAAC,MACI,IAAIJ,GAAG,CAACG,IAAI,CAAC,EAAE;QAChBH,GAAG,CAACG,IAAI,CAAC,CAACI,MAAM,CAACP,GAAG,CAACG,IAAI,CAAC,CAAC3B,OAAO,CAAC4B,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;MACzD;IACJ,CAAC;IACD;AACR;AACA;AACA;AACA;AACA;AACA;AACA;IACQI,IAAI,EAAE,SAAAA,CAAUL,IAAI,EAAEM,GAAG,EAAE;MACvB,CAACT,GAAG,CAACG,IAAI,CAAC,IAAI,EAAE,EAAEO,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,UAAUP,OAAO,EAAE;QAC7CA,OAAO,CAACK,GAAG,CAAC;MAChB,CAAC,CAAC;MACFR,IAAI,CAACS,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,UAAUP,OAAO,EAAE;QAChCA,OAAO,CAACD,IAAI,EAAEM,GAAG,CAAC;MACtB,CAAC,CAAC;IACN;EACJ,CAAC;AACL;AACAjE,OAAO,CAACuD,IAAI,GAAGA,IAAI"},"metadata":{},"sourceType":"script","externalDependencies":[]}