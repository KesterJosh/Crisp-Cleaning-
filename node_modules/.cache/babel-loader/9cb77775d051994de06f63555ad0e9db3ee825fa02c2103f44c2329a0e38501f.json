{"ast":null,"code":"// src/HouseComponent.js\nimport React,{useEffect,useRef}from'react';import{fromEvent}from'rxjs';import{map,startWith}from'rxjs/operators';import Flipping from'flipping';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const HouseComponent=()=>{const houseRef=useRef(null);const rangeRef=useRef(null);const labelRef=useRef(null);useEffect(()=>{const house=houseRef.current;const range=rangeRef.current;const label=labelRef.current;const f=new Flipping();const update=f.wrap(rooms=>{const prevRooms=house.getAttribute('data-rooms');house.setAttribute('data-prev-rooms',prevRooms);house.setAttribute('data-rooms',rooms);label.setAttribute('data-prev-rooms',prevRooms);label.setAttribute('data-rooms',rooms);label.setAttribute('data-rooms-delta',rooms-prevRooms);});const range$=fromEvent(range,'input').pipe(map(e=>e.target.value),startWith(8));const subscription=range$.subscribe(update);// Cleanup subscription on component unmount\nreturn()=>{subscription.unsubscribe();};},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"house\",id:\"house\",\"data-rooms\":\"6\",ref:houseRef}),/*#__PURE__*/_jsx(\"label\",{className:\"house-label\",htmlFor:\"range\",id:\"label\",ref:labelRef,children:\"Rooms\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"3\",max:\"8\",step:\"1\",value:\"8\",id:\"range\",ref:rangeRef})]});};export default HouseComponent;","map":{"version":3,"names":["React","useEffect","useRef","fromEvent","map","startWith","Flipping","jsx","_jsx","jsxs","_jsxs","HouseComponent","houseRef","rangeRef","labelRef","house","current","range","label","f","update","wrap","rooms","prevRooms","getAttribute","setAttribute","range$","pipe","e","target","value","subscription","subscribe","unsubscribe","children","className","id","ref","htmlFor","type","min","max","step"],"sources":["C:/Users/USER/Documents/GitHub/crispWeb/src/views/HouseComponent.js"],"sourcesContent":["// src/HouseComponent.js\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { fromEvent } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport Flipping from 'flipping';\r\n\r\nconst HouseComponent = () => {\r\n  const houseRef = useRef(null);\r\n  const rangeRef = useRef(null);\r\n  const labelRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const house = houseRef.current;\r\n    const range = rangeRef.current;\r\n    const label = labelRef.current;\r\n\r\n    const f = new Flipping();\r\n    const update = f.wrap((rooms) => {\r\n      const prevRooms = house.getAttribute('data-rooms');\r\n      house.setAttribute('data-prev-rooms', prevRooms);\r\n      house.setAttribute('data-rooms', rooms);\r\n\r\n      label.setAttribute('data-prev-rooms', prevRooms);\r\n      label.setAttribute('data-rooms', rooms);\r\n      label.setAttribute('data-rooms-delta', rooms - prevRooms);\r\n    });\r\n\r\n    const range$ = fromEvent(range, 'input').pipe(\r\n      map((e) => e.target.value),\r\n      startWith(8)\r\n    );\r\n\r\n    const subscription = range$.subscribe(update);\r\n\r\n    // Cleanup subscription on component unmount\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"house\" id=\"house\" data-rooms=\"6\" ref={houseRef}>\r\n        {/* ... (your house structure) ... */}\r\n      </div>\r\n\r\n      <label className=\"house-label\" htmlFor=\"range\" id=\"label\" ref={labelRef}>\r\n        Rooms\r\n      </label>\r\n\r\n      <input\r\n        type=\"range\"\r\n        min=\"3\"\r\n        max=\"8\"\r\n        step=\"1\"\r\n        value=\"8\"\r\n        id=\"range\"\r\n        ref={rangeRef}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HouseComponent;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,OAASC,SAAS,KAAQ,MAAM,CAChC,OAASC,GAAG,CAAEC,SAAS,KAAQ,gBAAgB,CAC/C,MAAO,CAAAC,QAAQ,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAGV,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAAAW,QAAQ,CAAGX,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAAAY,QAAQ,CAAGZ,MAAM,CAAC,IAAI,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,KAAK,CAAGH,QAAQ,CAACI,OAAO,CAC9B,KAAM,CAAAC,KAAK,CAAGJ,QAAQ,CAACG,OAAO,CAC9B,KAAM,CAAAE,KAAK,CAAGJ,QAAQ,CAACE,OAAO,CAE9B,KAAM,CAAAG,CAAC,CAAG,GAAI,CAAAb,QAAQ,CAAC,CAAC,CACxB,KAAM,CAAAc,MAAM,CAAGD,CAAC,CAACE,IAAI,CAAEC,KAAK,EAAK,CAC/B,KAAM,CAAAC,SAAS,CAAGR,KAAK,CAACS,YAAY,CAAC,YAAY,CAAC,CAClDT,KAAK,CAACU,YAAY,CAAC,iBAAiB,CAAEF,SAAS,CAAC,CAChDR,KAAK,CAACU,YAAY,CAAC,YAAY,CAAEH,KAAK,CAAC,CAEvCJ,KAAK,CAACO,YAAY,CAAC,iBAAiB,CAAEF,SAAS,CAAC,CAChDL,KAAK,CAACO,YAAY,CAAC,YAAY,CAAEH,KAAK,CAAC,CACvCJ,KAAK,CAACO,YAAY,CAAC,kBAAkB,CAAEH,KAAK,CAAGC,SAAS,CAAC,CAC3D,CAAC,CAAC,CAEF,KAAM,CAAAG,MAAM,CAAGvB,SAAS,CAACc,KAAK,CAAE,OAAO,CAAC,CAACU,IAAI,CAC3CvB,GAAG,CAAEwB,CAAC,EAAKA,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC1BzB,SAAS,CAAC,CAAC,CACb,CAAC,CAED,KAAM,CAAA0B,YAAY,CAAGL,MAAM,CAACM,SAAS,CAACZ,MAAM,CAAC,CAE7C;AACA,MAAO,IAAM,CACXW,YAAY,CAACE,WAAW,CAAC,CAAC,CAC5B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEvB,KAAA,QAAAwB,QAAA,eACE1B,IAAA,QAAK2B,SAAS,CAAC,OAAO,CAACC,EAAE,CAAC,OAAO,CAAC,aAAW,GAAG,CAACC,GAAG,CAAEzB,QAAS,CAE1D,CAAC,cAENJ,IAAA,UAAO2B,SAAS,CAAC,aAAa,CAACG,OAAO,CAAC,OAAO,CAACF,EAAE,CAAC,OAAO,CAACC,GAAG,CAAEvB,QAAS,CAAAoB,QAAA,CAAC,OAEzE,CAAO,CAAC,cAER1B,IAAA,UACE+B,IAAI,CAAC,OAAO,CACZC,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,GAAG,CACPC,IAAI,CAAC,GAAG,CACRZ,KAAK,CAAC,GAAG,CACTM,EAAE,CAAC,OAAO,CACVC,GAAG,CAAExB,QAAS,CACf,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}