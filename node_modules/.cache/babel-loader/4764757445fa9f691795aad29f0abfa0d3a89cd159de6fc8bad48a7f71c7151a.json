{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar utils_1 = require(\"./utils\");\nvar constants_1 = require(\"./constants\");\nvar mirror_1 = require(\"./plugins/mirror\");\nvar radius_1 = require(\"./plugins/radius\");\nvar active = function () {\n  return true;\n};\nvar identity = function (a) {\n  return a;\n};\nvar flipDatasetMap = {\n  flipKey: ['key', identity],\n  flipNoScale: ['noScale', function () {\n    return true;\n  }]\n};\nvar getFlipData = function (element) {\n  if (!('dataset' in element)) {\n    // not supported\n    return {};\n  }\n  var dataset = element.dataset;\n  var data = {};\n  Object.keys(dataset).forEach(function (key) {\n    if (flipDatasetMap[key]) {\n      var _a = flipDatasetMap[key],\n        flipKey = _a[0],\n        project = _a[1];\n      data[flipKey] = project(dataset[key]);\n    } else if (key.indexOf('flip') === 0) {\n      data[key[4].toLowerCase() + key.slice(5)] = dataset[key];\n    }\n  });\n  return data;\n};\nvar createSelector = function (selector, attribute) {\n  if (attribute === void 0) {\n    attribute = constants_1.KEY_ATTR;\n  }\n  if (typeof selector === 'string') {\n    return function (parentElement) {\n      var elements = parentElement.querySelectorAll(selector);\n      var visibleElements = {};\n      var result = [];\n      elements.forEach(function (element) {\n        if (!utils_1.isVisible(element)) {\n          return;\n        }\n        var key = element.getAttribute(attribute);\n        if (!key) {\n          return;\n        }\n        visibleElements[key] = element;\n        result.push(element);\n      });\n      return result;\n    };\n  }\n  return selector;\n};\nvar Flipping = /** @class */function () {\n  function Flipping(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    this.attribute = options.attribute || constants_1.KEY_ATTR;\n    this.selector = createSelector(options.selector || \"[\" + this.attribute + \"]\", this.attribute);\n    this.active = options.active || active;\n    this.activeSelector = options.activeSelector || utils_1.isVisible;\n    this.getBounds = options.getBounds || utils_1.rect;\n    this.getDelta = options.getDelta || utils_1.getDelta;\n    this.parentElement = options.parent || document.documentElement;\n    this.plugins = options.plugins || [mirror_1.default, radius_1.default];\n    this.emitter = utils_1.mitt();\n    if (options.onRead) {\n      this.on('read', options.onRead);\n    }\n    if (options.onFlip) {\n      this.on('flip', options.onFlip);\n    }\n    if (options.onEnter) {\n      this.on('enter', options.onEnter);\n    }\n    if (options.onLeave) {\n      this.on('leave', options.onLeave);\n    }\n    this.states = {};\n  }\n  Flipping.prototype.getRelativeBounds = function (parentBounds, childBounds) {\n    return __assign({}, childBounds, {\n      top: childBounds.top - parentBounds.top,\n      left: childBounds.left - parentBounds.left\n    });\n  };\n  Flipping.prototype.selectActive = function (parentElement) {\n    var _this = this;\n    var elements = this.selector(parentElement);\n    var activeElements = {};\n    var result = [];\n    elements.forEach(function (element) {\n      if (!_this.activeSelector(element)) {\n        return;\n      }\n      var key = element.getAttribute(_this.attribute);\n      if (!key) {\n        return;\n      }\n      activeElements[key] = element;\n      result.push(element);\n    });\n    return result;\n  };\n  Flipping.prototype.findParent = function (element, parent) {\n    if (parent === void 0) {\n      parent = this.parentElement;\n    }\n    var parentKey = element.getAttribute('data-flip-parent');\n    var currentParent = element.parentElement;\n    if (!parentKey) {\n      while (currentParent && !currentParent.hasAttribute(this.attribute)) {\n        currentParent = currentParent.parentElement;\n      }\n    } else {\n      while (currentParent && currentParent.getAttribute(this.attribute) !== parentKey) {\n        currentParent = currentParent.parentElement;\n      }\n    }\n    return currentParent || parent;\n  };\n  Flipping.prototype.dispatch = function (event, stateMap) {\n    var finalStateMap = this.plugins.reduce(function (intermediateStateMap, plugin) {\n      return plugin(intermediateStateMap, event);\n    }, stateMap);\n    this.emitter.emit(event, finalStateMap);\n  };\n  Flipping.prototype.on = function (event, listener) {\n    this.emitter.on(event, listener);\n  };\n  Flipping.prototype.onFlip = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    var key;\n    var listener;\n    if (args.length === 2) {\n      key = args[0], listener = args[1];\n    } else {\n      listener = args[0];\n    }\n    this.emitter.on('flip', key ? function (stateMap) {\n      var state = stateMap[key];\n      if (state) {\n        listener(state);\n      }\n    } : listener);\n  };\n  Flipping.prototype.read = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n    this.flip(__assign({}, options, {\n      readOnly: true\n    }));\n  };\n  Flipping.prototype.flip = function (options) {\n    var _this = this;\n    if (options === void 0) {\n      options = {};\n    }\n    var parentElement = options.parent || this.parentElement;\n    var elements = this.selectActive(parentElement);\n    var fullState = {};\n    elements.forEach(function (element, index) {\n      var key = element.getAttribute(_this.attribute);\n      if (!key) {\n        return;\n      }\n      var data = getFlipData(element);\n      var childParent = _this.findParent(element, parentElement);\n      var childParentKey = childParent.getAttribute(_this.attribute);\n      var childParentState = childParentKey ? fullState[childParentKey] : undefined;\n      var parentBounds = _this.getBounds(childParent);\n      var previous = _this.states[key];\n      var isPresent = previous && previous.type !== 'LEAVE';\n      var bounds = _this.getRelativeBounds(parentBounds, _this.getBounds(element));\n      var delta = isPresent && previous && previous.bounds ? _this.getDelta(previous.bounds, bounds) : undefined;\n      var newState = {\n        type: isPresent ? 'MOVE' : 'ENTER',\n        key: key,\n        element: element,\n        bounds: bounds,\n        delta: delta,\n        start: Date.now(),\n        animation: isPresent ? previous.animation : undefined,\n        index: index,\n        previous: previous ? {\n          type: previous.type,\n          bounds: previous.bounds,\n          animation: previous.animation,\n          element: previous.element,\n          data: previous.data\n        } : undefined,\n        parent: childParentState,\n        data: data\n      };\n      _this.states[key] = fullState[key] = newState;\n    });\n    if (options.readOnly) {\n      return this.dispatch('read', fullState);\n    }\n    Object.keys(this.states).forEach(function (key, index) {\n      if (fullState[key]) {\n        return;\n      }\n      var prevState = _this.states[key];\n      _this.states[key] = fullState[key] = {\n        type: 'LEAVE',\n        key: key,\n        element: undefined,\n        bounds: undefined,\n        start: Date.now(),\n        animation: undefined,\n        delta: undefined,\n        index: index,\n        parent: undefined,\n        previous: {\n          type: prevState.type,\n          bounds: prevState.bounds,\n          animation: prevState.animation,\n          element: prevState.element\n        }\n      };\n    });\n    return this.dispatch('flip', fullState);\n  };\n  Flipping.prototype.setAnimation = function (key, animation) {\n    this.states[key].animation = animation;\n  };\n  Flipping.prototype.wrap = function (fn, options) {\n    var _this = this;\n    if (options === void 0) {\n      options = {};\n    }\n    return function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      _this.read(options);\n      var result = fn.apply(null, args);\n      _this.flip(options);\n      return result;\n    };\n  };\n  Flipping.prototype.progress = function (key, fraction) {\n    var delta = this.states[key].delta;\n    if (!delta) {\n      return;\n    }\n    return Flipping.progress(delta, fraction);\n  };\n  Flipping.progress = function (delta, fraction) {\n    if (!delta) {\n      return constants_1.NO_DELTA;\n    }\n    var invFraction = 1 - fraction;\n    return {\n      top: delta.top * invFraction,\n      left: delta.left * invFraction,\n      width: delta.width * invFraction,\n      height: delta.height * invFraction\n    };\n  };\n  Flipping.rect = utils_1.rect;\n  Flipping.willScale = function (state) {\n    return !!(state && state.element && !state.element.hasAttribute('data-noflip') && state.delta && (state.delta.width !== 1 || state.delta.height !== 1));\n  };\n  Flipping.willMove = function (state) {\n    if (!state || !state.delta) {\n      return false;\n    }\n    return state && (state.delta.top !== 0 || state.delta.left !== 0);\n  };\n  return Flipping;\n}();\nexports.default = Flipping;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","defineProperty","exports","value","utils_1","require","constants_1","mirror_1","radius_1","active","identity","a","flipDatasetMap","flipKey","flipNoScale","getFlipData","element","dataset","data","keys","forEach","key","_a","project","indexOf","toLowerCase","slice","createSelector","selector","attribute","KEY_ATTR","parentElement","elements","querySelectorAll","visibleElements","result","isVisible","getAttribute","push","Flipping","options","activeSelector","getBounds","rect","getDelta","parent","document","documentElement","plugins","default","emitter","mitt","onRead","on","onFlip","onEnter","onLeave","states","getRelativeBounds","parentBounds","childBounds","top","left","selectActive","_this","activeElements","findParent","parentKey","currentParent","hasAttribute","dispatch","event","stateMap","finalStateMap","reduce","intermediateStateMap","plugin","emit","listener","args","_i","state","read","flip","readOnly","fullState","index","childParent","childParentKey","childParentState","undefined","previous","isPresent","type","bounds","delta","newState","start","Date","now","animation","prevState","setAnimation","wrap","fn","apply","progress","fraction","NO_DELTA","invFraction","width","height","willScale","willMove"],"sources":["C:/Users/USER/Documents/GitHub/crispWeb/node_modules/flipping/lib/Flipping.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar constants_1 = require(\"./constants\");\nvar mirror_1 = require(\"./plugins/mirror\");\nvar radius_1 = require(\"./plugins/radius\");\nvar active = function () { return true; };\nvar identity = function (a) { return a; };\nvar flipDatasetMap = {\n    flipKey: ['key', identity],\n    flipNoScale: ['noScale', function () { return true; }]\n};\nvar getFlipData = function (element) {\n    if (!('dataset' in element)) {\n        // not supported\n        return {};\n    }\n    var dataset = element.dataset;\n    var data = {};\n    Object.keys(dataset).forEach(function (key) {\n        if (flipDatasetMap[key]) {\n            var _a = flipDatasetMap[key], flipKey = _a[0], project = _a[1];\n            data[flipKey] = project(dataset[key]);\n        }\n        else if (key.indexOf('flip') === 0) {\n            data[key[4].toLowerCase() + key.slice(5)] = dataset[key];\n        }\n    });\n    return data;\n};\nvar createSelector = function (selector, attribute) {\n    if (attribute === void 0) { attribute = constants_1.KEY_ATTR; }\n    if (typeof selector === 'string') {\n        return function (parentElement) {\n            var elements = parentElement.querySelectorAll(selector);\n            var visibleElements = {};\n            var result = [];\n            elements.forEach(function (element) {\n                if (!utils_1.isVisible(element)) {\n                    return;\n                }\n                var key = element.getAttribute(attribute);\n                if (!key) {\n                    return;\n                }\n                visibleElements[key] = element;\n                result.push(element);\n            });\n            return result;\n        };\n    }\n    return selector;\n};\nvar Flipping = /** @class */ (function () {\n    function Flipping(options) {\n        if (options === void 0) { options = {}; }\n        this.attribute = options.attribute || constants_1.KEY_ATTR;\n        this.selector = createSelector(options.selector || \"[\" + this.attribute + \"]\", this.attribute);\n        this.active = options.active || active;\n        this.activeSelector = options.activeSelector || utils_1.isVisible;\n        this.getBounds = options.getBounds || utils_1.rect;\n        this.getDelta = options.getDelta || utils_1.getDelta;\n        this.parentElement = options.parent || document.documentElement;\n        this.plugins = options.plugins || [mirror_1.default, radius_1.default];\n        this.emitter = utils_1.mitt();\n        if (options.onRead) {\n            this.on('read', options.onRead);\n        }\n        if (options.onFlip) {\n            this.on('flip', options.onFlip);\n        }\n        if (options.onEnter) {\n            this.on('enter', options.onEnter);\n        }\n        if (options.onLeave) {\n            this.on('leave', options.onLeave);\n        }\n        this.states = {};\n    }\n    Flipping.prototype.getRelativeBounds = function (parentBounds, childBounds) {\n        return __assign({}, childBounds, { top: childBounds.top - parentBounds.top, left: childBounds.left - parentBounds.left });\n    };\n    Flipping.prototype.selectActive = function (parentElement) {\n        var _this = this;\n        var elements = this.selector(parentElement);\n        var activeElements = {};\n        var result = [];\n        elements.forEach(function (element) {\n            if (!_this.activeSelector(element)) {\n                return;\n            }\n            var key = element.getAttribute(_this.attribute);\n            if (!key) {\n                return;\n            }\n            activeElements[key] = element;\n            result.push(element);\n        });\n        return result;\n    };\n    Flipping.prototype.findParent = function (element, parent) {\n        if (parent === void 0) { parent = this.parentElement; }\n        var parentKey = element.getAttribute('data-flip-parent');\n        var currentParent = element.parentElement;\n        if (!parentKey) {\n            while (currentParent && !currentParent.hasAttribute(this.attribute)) {\n                currentParent = currentParent.parentElement;\n            }\n        }\n        else {\n            while (currentParent &&\n                currentParent.getAttribute(this.attribute) !== parentKey) {\n                currentParent = currentParent.parentElement;\n            }\n        }\n        return currentParent || parent;\n    };\n    Flipping.prototype.dispatch = function (event, stateMap) {\n        var finalStateMap = this.plugins.reduce(function (intermediateStateMap, plugin) {\n            return plugin(intermediateStateMap, event);\n        }, stateMap);\n        this.emitter.emit(event, finalStateMap);\n    };\n    Flipping.prototype.on = function (event, listener) {\n        this.emitter.on(event, listener);\n    };\n    Flipping.prototype.onFlip = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key;\n        var listener;\n        if (args.length === 2) {\n            key = args[0], listener = args[1];\n        }\n        else {\n            listener = args[0];\n        }\n        this.emitter.on('flip', key\n            ? function (stateMap) {\n                var state = stateMap[key];\n                if (state) {\n                    listener(state);\n                }\n            }\n            : listener);\n    };\n    Flipping.prototype.read = function (options) {\n        if (options === void 0) { options = {}; }\n        this.flip(__assign({}, options, { readOnly: true }));\n    };\n    Flipping.prototype.flip = function (options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        var parentElement = options.parent || this.parentElement;\n        var elements = this.selectActive(parentElement);\n        var fullState = {};\n        elements.forEach(function (element, index) {\n            var key = element.getAttribute(_this.attribute);\n            if (!key) {\n                return;\n            }\n            var data = getFlipData(element);\n            var childParent = _this.findParent(element, parentElement);\n            var childParentKey = childParent.getAttribute(_this.attribute);\n            var childParentState = childParentKey\n                ? fullState[childParentKey]\n                : undefined;\n            var parentBounds = _this.getBounds(childParent);\n            var previous = _this.states[key];\n            var isPresent = previous && previous.type !== 'LEAVE';\n            var bounds = _this.getRelativeBounds(parentBounds, _this.getBounds(element));\n            var delta = isPresent && previous && previous.bounds\n                ? _this.getDelta(previous.bounds, bounds)\n                : undefined;\n            var newState = {\n                type: isPresent ? 'MOVE' : 'ENTER',\n                key: key,\n                element: element,\n                bounds: bounds,\n                delta: delta,\n                start: Date.now(),\n                animation: isPresent ? previous.animation : undefined,\n                index: index,\n                previous: previous\n                    ? {\n                        type: previous.type,\n                        bounds: previous.bounds,\n                        animation: previous.animation,\n                        element: previous.element,\n                        data: previous.data\n                    }\n                    : undefined,\n                parent: childParentState,\n                data: data\n            };\n            _this.states[key] = fullState[key] = newState;\n        });\n        if (options.readOnly) {\n            return this.dispatch('read', fullState);\n        }\n        Object.keys(this.states).forEach(function (key, index) {\n            if (fullState[key]) {\n                return;\n            }\n            var prevState = _this.states[key];\n            _this.states[key] = fullState[key] = {\n                type: 'LEAVE',\n                key: key,\n                element: undefined,\n                bounds: undefined,\n                start: Date.now(),\n                animation: undefined,\n                delta: undefined,\n                index: index,\n                parent: undefined,\n                previous: {\n                    type: prevState.type,\n                    bounds: prevState.bounds,\n                    animation: prevState.animation,\n                    element: prevState.element\n                }\n            };\n        });\n        return this.dispatch('flip', fullState);\n    };\n    Flipping.prototype.setAnimation = function (key, animation) {\n        this.states[key].animation = animation;\n    };\n    Flipping.prototype.wrap = function (fn, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            _this.read(options);\n            var result = fn.apply(null, args);\n            _this.flip(options);\n            return result;\n        };\n    };\n    Flipping.prototype.progress = function (key, fraction) {\n        var delta = this.states[key].delta;\n        if (!delta) {\n            return;\n        }\n        return Flipping.progress(delta, fraction);\n    };\n    Flipping.progress = function (delta, fraction) {\n        if (!delta) {\n            return constants_1.NO_DELTA;\n        }\n        var invFraction = 1 - fraction;\n        return {\n            top: delta.top * invFraction,\n            left: delta.left * invFraction,\n            width: delta.width * invFraction,\n            height: delta.height * invFraction\n        };\n    };\n    Flipping.rect = utils_1.rect;\n    Flipping.willScale = function (state) {\n        return !!(state &&\n            state.element &&\n            !state.element.hasAttribute('data-noflip') &&\n            state.delta &&\n            (state.delta.width !== 1 || state.delta.height !== 1));\n    };\n    Flipping.willMove = function (state) {\n        if (!state || !state.delta) {\n            return false;\n        }\n        return state && (state.delta.top !== 0 || state.delta.left !== 0);\n    };\n    return Flipping;\n}());\nexports.default = Flipping;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}